<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="description" content="Browse and manage your favorite actresses with an elegant gallery interface">
  <title>Actress Gallery | My Favorite Actresses</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
  <!-- Loading Screen -->
  <div id="loadingScreen" class="loading-screen">
    <div class="loading-spinner">
      <i class="fas fa-film"></i>
      <p>Loading Gallery...</p>
    </div>
  </div>

  <header>
    <div class="header-top">
      <div class="header-brand">
        <h1><i class="fas fa-film"></i> Actress Gallery</h1>
        <p class="tagline">Your personal collection of favorite actresses</p>
      </div>
      <div class="header-controls">
        <!-- View Mode Toggle -->
        <button id="viewToggle" class="header-icon-btn" title="Change View Mode" aria-label="Change view mode">
          <i class="fas fa-th"></i>
        </button>
        
        <!-- Quick Add -->
        <button id="quickAdd" class="header-icon-btn" title="Quick Add" aria-label="Quick add actress">
          <i class="fas fa-bolt"></i>
        </button>
        
        <!-- Batch Actions -->
        <button id="batchActions" class="header-icon-btn" title="Batch Actions" aria-label="Batch actions">
          <i class="fas fa-layer-group"></i>
        </button>
        
        <!-- Export -->
        <button id="exportBtn" class="header-icon-btn" title="Export Data" aria-label="Export data">
          <i class="fas fa-download"></i>
        </button>
        
        <!-- Admin Panel -->
        <button id="adminToggle" class="header-icon-btn" title="Admin Panel" aria-label="Open admin panel">
          <i class="fas fa-cog"></i>
        </button>
        
        <!-- Theme Toggle -->
        <button id="themeToggle" class="header-icon-btn" aria-label="Toggle dark mode">
          <i class="fas fa-moon"></i>
        </button>
      </div>
    </div>
    
    <!-- Stats Bar -->
    <div class="stats-bar">
      <span class="stat-item">
        <i class="fas fa-users"></i>
        <span id="totalActresses">0</span> Actresses
      </span>
      <span class="stat-item">
        <i class="fas fa-image"></i>
        <span id="totalPhotos">0</span> Photos
      </span>
      <span class="stat-item">
        <i class="fas fa-link"></i>
        <span id="totalLinks">0</span> Links
      </span>
      <span class="stat-item">
        <i class="fas fa-eye"></i>
        <span id="totalViews">0</span> Views
      </span>
    </div>
    
    <!-- Search Section -->
    <div class="search-section">
      <div class="search-container">
        <i class="fas fa-search"></i>
        <input id="searchBar" type="search" placeholder="Search actress by name, category, or tags..." aria-label="Search actresses" />
        <div class="search-shortcut-hint">Ctrl+K</div>
      </div>
      <div class="search-info">
        <span id="searchResultsCount">Showing all actresses</span>
        <span id="searchTime" class="search-time"></span>
      </div>
    </div>
  </header>

  <!-- Advanced Filters -->
  <div class="advanced-filters">
    <div class="filter-group">
      <label>Categories:</label>
      <div class="filter-tags" id="categoryFilters">
        <button class="filter-tag active" data-category="all">All</button>
        <button class="filter-tag" data-category="worldwide">Worldwide</button>
        <button class="filter-tag" data-category="japanese">Japanese</button>
        <button class="filter-tag" data-category="Korean">Korean</button>
      </div>
    </div>
    <div class="filter-group">
      <label>Sort By:</label>
      <select id="sortBy" class="filter-select">
        <option value="name">Name A-Z</option>
        <option value="name-desc">Name Z-A</option>
        <option value="recent">Recently Added</option>
        <option value="views">Most Viewed</option>
        <option value="photos">Most Photos</option>
        <option value="links">Most Links</option>
      </select>
    </div>
    <button id="clearFilters" class="btn secondary small">
      <i class="fas fa-times"></i> Clear All
    </button>
  </div>

  <!-- Main App Container -->
  <main id="app">
    <!-- View Mode Toggle -->
    <div class="view-mode-container">
      <div class="view-mode-toggle">
        <button class="view-mode-btn active" data-view="grid" title="Grid View">
          <i class="fas fa-th"></i>
          <span class="view-mode-text">Grid</span>
        </button>
        <button class="view-mode-btn" data-view="masonry" title="Masonry View">
          <i class="fas fa-th-large"></i>
          <span class="view-mode-text">Masonry</span>
        </button>
        <button class="view-mode-btn" data-view="list" title="List View">
          <i class="fas fa-list"></i>
          <span class="view-mode-text">List</span>
        </button>
        <button class="view-mode-btn" data-view="slideshow" title="Slideshow View">
          <i class="fas fa-play"></i>
          <span class="view-mode-text">Slideshow</span>
        </button>
      </div>
    </div>

    <!-- Main Gallery View -->
    <div id="galleryView" class="view-grid">
      <div id="actressList" class="grid"></div>
    </div>
  </main>

  <!-- Quick Add Modal -->
  <div id="quickAddModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3><i class="fas fa-bolt"></i> Quick Add Actress</h3>
        <button class="modal-close">&times;</button>
      </div>
      <div class="modal-body">
        <div class="quick-add-tabs">
          <button class="tab-btn active" data-tab="url">From URL</button>
          <button class="tab-btn" data-tab="social">Social Media</button>
          <button class="tab-btn" data-tab="bulk">Bulk Import</button>
        </div>
        
        <div id="quickAddUrl" class="tab-content active">
          <div class="form-group">
            <label>Profile URL</label>
            <input type="url" id="profileUrl" placeholder="https://instagram.com/username" />
            <small>Paste any social media or profile URL</small>
          </div>
          <div class="form-group">
            <label>Or Image URLs (one per line)</label>
            <textarea id="imageUrls" placeholder="https://example.com/image1.jpg&#10;https://example.com/image2.jpg" rows="4"></textarea>
          </div>
        </div>
        
        <div id="quickAddSocial" class="tab-content">
          <div class="social-platforms">
            <div class="platform-option">
              <i class="fab fa-instagram"></i>
              <span>Instagram</span>
            </div>
            <div class="platform-option">
              <i class="fab fa-twitter"></i>
              <span>Twitter</span>
            </div>
            <div class="platform-option">
              <i class="fab fa-tiktok"></i>
              <span>TikTok</span>
            </div>
          </div>
        </div>
        
        <div id="quickAddBulk" class="tab-content">
          <div class="form-group">
            <label>CSV Data</label>
            <textarea id="bulkData" placeholder="Name,Category,ImageURL&#10;Emma Stone,worldwide,https://..." rows="6"></textarea>
            <small>Format: Name,Category,ImageURL (one per line)</small>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn primary" id="processQuickAdd">
          <i class="fas fa-magic"></i> Process & Add
        </button>
      </div>
    </div>
  </div>

  <!-- Image Viewer Modal -->
  <div id="imageViewer" class="modal image-viewer">
    <div class="image-viewer-content">
      <button class="image-viewer-close">&times;</button>
      <button class="image-nav prev"><i class="fas fa-chevron-left"></i></button>
      <div class="image-container">
        <img id="viewerImage" src="" alt="" />
        <div class="image-info">
          <h4 id="imageActressName"></h4>
          <span id="imageIndex"></span>
        </div>
      </div>
      <button class="image-nav next"><i class="fas fa-chevron-right"></i></button>
      <div class="image-tools">
        <button class="tool-btn" id="zoomIn"><i class="fas fa-search-plus"></i></button>
        <button class="tool-btn" id="zoomOut"><i class="fas fa-search-minus"></i></button>
        <button class="tool-btn" id="downloadImage"><i class="fas fa-download"></i></button>
        <button class="tool-btn" id="shareImage"><i class="fas fa-share"></i></button>
      </div>
    </div>
  </div>

  <!-- Admin Panel View (Hidden by default) -->
  <div id="adminView" class="admin-panel" style="display: none;">
    <div class="admin-header">
      <h2><i class="fas fa-cog"></i> Admin Panel</h2>
      <button id="closeAdmin" class="btn secondary">
        <i class="fas fa-times"></i> Close
      </button>
    </div>
    
    <div class="admin-tabs">
      <button class="tab-btn active" data-tab="add">
        <i class="fas fa-plus"></i> Add New
      </button>
      <button class="tab-btn" data-tab="manage">
        <i class="fas fa-edit"></i> Manage
      </button>
      <button class="tab-btn" data-tab="import">
        <i class="fas fa-file-import"></i> Import/Export
      </button>
      <button class="tab-btn" data-tab="analytics">
        <i class="fas fa-chart-bar"></i> Analytics
      </button>
      <button class="tab-btn" data-tab="settings">
        <i class="fas fa-sliders-h"></i> Settings
      </button>
    </div>

    <!-- Add Actress Form -->
    <div id="addTab" class="tab-content active">
      <form id="addActressForm" class="admin-form">
        <div class="form-row">
          <div class="form-group" style="flex: 2;">
            <label for="actressName">Name *</label>
            <input type="text" id="actressName" required placeholder="Enter full name">
            <div id="nameSuggestions" class="suggestions-dropdown"></div>
          </div>
          <div class="form-group" style="flex: 1;">
            <label for="actressCategory">Category *</label>
            <div class="category-combobox">
              <input type="text" id="actressCategory" list="categorySuggestions" placeholder="Type or select category"
                required>
              <datalist id="categorySuggestions">
                <!-- Dynamic categories will be added here -->
              </datalist>
            </div>
            <div id="categorySuggestionsList" class="suggestions-dropdown"></div>
    
            <!-- Existing Categories -->
            <div class="existing-categories" id="existingCategories">
              <!-- Existing categories will appear here as clickable badges -->
            </div>
            <small>Click on a category badge to select it, or type a new one</small>
          </div>
        </div>
    
        <div class="form-group">
          <label for="actressTags">Tags</label>
          <input type="text" id="actressTags" placeholder="Add tags (comma separated)">
          <div class="tags-container" id="tagsContainer"></div>
          <small>Press Enter or comma to add tags</small>
        </div>

        <div class="form-group">
          <label>Image Sources</label>
          <div class="image-source-tabs">
            <button type="button" class="source-tab active" data-source="url">URL</button>
            <button type="button" class="source-tab" data-source="upload">Upload</button>
          </div>
          
          <div id="imageUrlSource" class="source-content active">
            <label for="thumbUrl">Thumbnail Image URL *</label>
            <input type="url" id="thumbUrl" placeholder="https://example.com/image.jpg">
            <button type="button" id="previewThumb" class="btn secondary small">Preview</button>
            <div class="image-preview" id="thumbPreview"></div>
            
            <label for="galleryUrls">Gallery Image URLs</label>
            <textarea id="galleryUrls" placeholder="Enter one image URL per line" rows="4"></textarea>
            <div class="image-preview" id="galleryPreview"></div>
          </div>
          
          <div id="imageUploadSource" class="source-content">
            <label for="actressThumb">Thumbnail Image</label>
            <input type="file" id="actressThumb" accept="image/*">
            <small>Recommended: 300x400px, JPG or PNG</small>
            
            <label for="galleryImages">Gallery Images</label>
            <input type="file" id="galleryImages" accept="image/*" multiple>
            <small>Select multiple images for the gallery</small>
          </div>
        </div>

        <div class="form-group">
          <label>Website & Social Links</label>
          <div id="websiteLinks">
            <!-- Dynamic website links will be added here -->
          </div>
          <button type="button" id="addWebsite" class="btn secondary">
            <i class="fas fa-plus"></i> Add Website Link
          </button>
        </div>

        <div class="form-actions">
          <button type="submit" class="btn primary">
            <i class="fas fa-plus-circle"></i> Add Actress
          </button>
          <button type="button" id="saveTemplate" class="btn secondary">
            <i class="fas fa-save"></i> Save as Template
          </button>
          <button type="button" id="clearForm" class="btn">
            <i class="fas fa-broom"></i> Clear Form
          </button>
        </div>
      </form>
    </div>

    <!-- Manage Actresses Tab -->
    <div id="manageTab" class="tab-content">
      <div class="manage-header">
        <h3>Manage Actresses</h3>
        <div class="manage-controls">
          <div class="search-container small">
            <i class="fas fa-search"></i>
            <input type="search" id="manageSearch" placeholder="Search to manage...">
          </div>
          <select id="batchAction" class="batch-select">
            <option value="">Batch Actions</option>
            <option value="delete">Delete Selected</option>
            <option value="category">Change Category</option>
            <option value="tags">Add Tags</option>
          </select>
          <button id="applyBatch" class="btn secondary">Apply</button>
          <button id="refreshList" class="btn secondary" title="Refresh list">
            <i class="fas fa-sync-alt"></i>
          </button>
        </div>
      </div>
      <div id="manageList" class="manage-list"></div>
    </div>

    <!-- Import/Export Tab -->
    <div id="importTab" class="tab-content">
      <div class="import-section">
        <h3><i class="fas fa-file-export"></i> Export Data</h3>
        <p>Download your actress data in various formats.</p>
        <div class="export-options">
          <button id="exportJSON" class="btn success">
            <i class="fas fa-download"></i> Export JSON
          </button>
          <button id="exportCSV" class="btn success">
            <i class="fas fa-file-csv"></i> Export CSV
          </button>
          <button id="exportPDF" class="btn success">
            <i class="fas fa-file-pdf"></i> Export PDF
          </button>
        </div>
      </div>
      
      <div class="import-section">
        <h3><i class="fas fa-file-import"></i> Import Data</h3>
        <p>Import actress data from various sources.</p>
        <div class="import-options">
          <div class="form-group">
            <label>Import From:</label>
            <select id="importSource">
              <option value="json">JSON File</option>
              <option value="csv">CSV File</option>
              <option value="url">URL</option>
            </select>
          </div>
          <div class="form-group">
            <input type="file" id="importFile" accept=".json,.csv">
            <input type="url" id="importUrl" placeholder="https://..." style="display: none;">
          </div>
          <button id="importData" class="btn primary">
            <i class="fas fa-upload"></i> Import Data
          </button>
        </div>
      </div>
      
      <div class="import-section">
        <h3><i class="fas fa-cloud"></i> Cloud Backup</h3>
        <p>Automatically backup your data to cloud storage.</p>
        <div class="cloud-options">
          <button id="autoBackup" class="btn secondary">
            <i class="fas fa-cloud-upload-alt"></i> Enable Auto Backup
          </button>
          <button id="syncNow" class="btn primary">
            <i class="fas fa-sync"></i> Sync Now
          </button>
        </div>
      </div>
      
      <div class="import-section danger-zone">
        <h3><i class="fas fa-exclamation-triangle"></i> Danger Zone</h3>
        <p>Permanently delete all actress data. This action cannot be undone.</p>
        <button id="clearAllData" class="btn danger">
          <i class="fas fa-trash"></i> Clear All Data
        </button>
      </div>
    </div>

    <!-- Analytics Tab -->
    <div id="analyticsTab" class="tab-content">
      <div class="analytics-dashboard">
        <div class="stats-grid">
          <div class="stat-card">
            <h4>Total Views</h4>
            <div class="stat-number" id="totalViewsStat">0</div>
            <div class="stat-trend up">+12%</div>
          </div>
          <div class="stat-card">
            <h4>Most Viewed</h4>
            <div class="stat-number" id="mostViewed">-</div>
            <div class="stat-subtitle">Actress</div>
          </div>
          <div class="stat-card">
            <h4>Category Distribution</h4>
            <div id="categoryChart" class="mini-chart"></div>
          </div>
          <div class="stat-card">
            <h4>Recent Activity</h4>
            <div id="recentActivity" class="activity-list"></div>
          </div>
        </div>
        
        <div class="charts-section">
          <div class="chart-container">
            <h4>Views Over Time</h4>
            <div id="viewsChart" class="chart"></div>
          </div>
          <div class="chart-container">
            <h4>Top Actresses</h4>
            <div id="topActressesChart" class="chart"></div>
          </div>
        </div>
      </div>
    </div>

    <!-- Settings Tab -->
    <div id="settingsTab" class="tab-content">
      <div class="settings-section">
        <h3><i class="fas fa-palette"></i> Appearance</h3>
        <div class="form-group">
          <label>Theme</label>
          <select id="themeSetting">
            <option value="auto">Auto (System)</option>
            <option value="light">Light</option>
            <option value="dark">Dark</option>
          </select>
        </div>
        <div class="form-group">
          <label>Card Size</label>
          <select id="cardSize">
            <option value="small">Small</option>
            <option value="medium">Medium</option>
            <option value="large">Large</option>
          </select>
        </div>
      </div>
      
      <div class="settings-section">
        <h3><i class="fas fa-bell"></i> Notifications</h3>
        <div class="setting-toggle">
          <label>Enable Toast Notifications</label>
          <input type="checkbox" id="toastNotifications" checked>
        </div>
        <div class="setting-toggle">
          <label>Auto-save Changes</label>
          <input type="checkbox" id="autoSave" checked>
        </div>
      </div>
      
      <div class="settings-section">
        <h3><i class="fas fa-keyboard"></i> Keyboard Shortcuts</h3>
        <div class="shortcuts-list">
          <div class="shortcut-item">
            <span class="shortcut-key">Ctrl+K</span>
            <span class="shortcut-desc">Focus Search</span>
          </div>
          <div class="shortcut-item">
            <span class="shortcut-key">Ctrl+N</span>
            <span class="shortcut-desc">New Actress</span>
          </div>
          <div class="shortcut-item">
            <span class="shortcut-key">Esc</span>
            <span class="shortcut-desc">Close Modal/Back</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Toast Notifications -->
  <div id="toastContainer" class="toast-container"></div>

  <!-- Context Menu -->
  <div id="contextMenu" class="context-menu">
    <div class="context-item" data-action="view"><i class="fas fa-eye"></i> View</div>
    <div class="context-item" data-action="edit"><i class="fas fa-edit"></i> Edit</div>
    <div class="context-item" data-action="favorite"><i class="fas fa-star"></i> Favorite</div>
    <div class="context-item" data-action="share"><i class="fas fa-share"></i> Share</div>
    <div class="context-divider"></div>
    <div class="context-item" data-action="delete"><i class="fas fa-trash"></i> Delete</div>
  </div>

  <!-- Back to Top Button -->
  <button id="backToTop" class="back-to-top" aria-label="Back to top">
    <i class="fas fa-chevron-up"></i>
  </button>

  <footer>
    <div class="footer-content">
      <p>&copy; 2024 Actress Gallery | Built with <i class="fas fa-heart"></i> for movie enthusiasts</p>
      <div class="footer-links">
        <a href="#" class="footer-link">Privacy</a>
        <a href="#" class="footer-link">Terms</a>
        <a href="#" class="footer-link">Contact</a>
        <a href="#" class="footer-link" id="keyboardShortcutsBtn">Keyboard Shortcuts</a>
      </div>
    </div>
  </footer>

  <!-- Fail-safe loader: hide loader if main script errors out -->
  <script>
    // If the main script throws or fails to run for any reason, hide the loading overlay
    // after a short timeout so the user doesn't see an infinite loading screen.
    setTimeout(() => {
      try {
        const ls = document.getElementById('loadingScreen');
        if (ls && !ls.classList.contains('hidden')) {
          ls.classList.add('hidden');
          ls.style.display = 'none';
          console.warn('Loading overlay hidden by fail-safe (script might have failed).');
        }
      } catch (e) {
        console.error('Fail-safe hide loader error:', e);
      }
    }, 5000);
  </script>

  <script defer src="script.js"></script>
</body>
</html>